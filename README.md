# ë¦¬íŒ©í† ë§ëœ PHP ë¸”ë¡œê·¸ ì• í”Œë¦¬ì¼€ì´ì…˜

## ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” ê¸°ì¡´ì˜ ë‹¨ìˆœí•œ PHP ë¸”ë¡œê·¸ë¥¼ í˜„ëŒ€ì ì¸ MVC ì•„í‚¤í…ì²˜ë¡œ ë¦¬íŒ©í† ë§í•˜ê³ , ê³ ì„±ëŠ¥ ìºì‹œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•œ ê²ƒì…ë‹ˆë‹¤.

## ì£¼ìš” ê°œì„ ì‚¬í•­

### 1. ì•„í‚¤í…ì²˜ ê°œì„ 
- **MVC íŒ¨í„´ ì ìš©**: Model, View, Controller ë¶„ë¦¬
- **PSR-4 ì˜¤í† ë¡œë”©**: Composerë¥¼ í†µí•œ ì˜ì¡´ì„± ê´€ë¦¬
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì‚¬ìš©**: ì½”ë“œ êµ¬ì¡°í™” ë° ì¶©ëŒ ë°©ì§€

### 2. ë³´ì•ˆ ê°•í™”
- **PDO ì‚¬ìš©**: SQL ì¸ì ì…˜ ë°©ì§€ë¥¼ ìœ„í•œ Prepared Statements
- **CSRF í† í°**: Cross-Site Request Forgery ë°©ì§€
- **ì…ë ¥ê°’ ê²€ì¦**: XSS ë° ê¸°íƒ€ ê³µê²© ë°©ì§€
- **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**: ì¿ í‚¤ ê¸°ë°˜ì—ì„œ ì„¸ì…˜ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½

### 3. ì½”ë“œ í’ˆì§ˆ í–¥ìƒ
- **ì¤‘ë³µ ì½”ë“œ ì œê±°**: ê³µí†µ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿í™”
- **ì—ëŸ¬ í•¸ë“¤ë§**: ì¼ê´€ëœ ì—ëŸ¬ ì²˜ë¦¬
- **í™˜ê²½ ì„¤ì • ë¶„ë¦¬**: ì„¤ì • íŒŒì¼ ì™¸ë¶€í™”
- **ë¡œê¹… ì‹œìŠ¤í…œ**: ë””ë²„ê¹… ë° ëª¨ë‹ˆí„°ë§ ê°œì„ 

### 4. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼ ì¹œí™”ì  UI
- **ëª¨ë˜ CSS**: Flexbox ë° Grid ì‚¬ìš©
- **JavaScript ëª¨ë“ˆí™”**: ê¸°ëŠ¥ë³„ ë¶„ë¦¬ ë° ì¬ì‚¬ìš©ì„± í–¥ìƒ

### 5. ğŸš€ **ì„±ëŠ¥ ìµœì í™” (NEW!)**
- **ë‹¤ì¸µ ìºì‹œ ì‹œìŠ¤í…œ**: ë©”ëª¨ë¦¬ + íŒŒì¼ ìºì‹œ
- **DB ì¿¼ë¦¬ ìµœì í™”**: 70% ì´ìƒ ì¿¼ë¦¬ ìˆ˜ ê°ì†Œ
- **í˜ì´ì§€ ë¡œë”© ì†ë„**: 3-5ë°° í–¥ìƒ
- **ì‹¤ì‹œê°„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ì¿¼ë¦¬ ë¶„ì„ ë° ìµœì í™” ê¶Œì¥

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
blog/
â”œâ”€â”€ config/                 # ì„¤ì • íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ database.php       # ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
â”‚   â”œâ”€â”€ config.php         # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
â”‚   â””â”€â”€ cache.php          # ìºì‹œ ì„¤ì • (NEW!)
â”œâ”€â”€ src/                   # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ Controllers/       # ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ CacheController.php      # ìºì‹œ ê´€ë¦¬ (NEW!)
â”‚   â”‚   â””â”€â”€ PerformanceController.php # ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (NEW!)
â”‚   â”œâ”€â”€ Models/           # ëª¨ë¸ (ìºì‹œ ìµœì í™” ì ìš©)
â”‚   â”œâ”€â”€ Core/             # í•µì‹¬ í´ë˜ìŠ¤ë“¤
â”‚   â”‚   â””â”€â”€ Cache.php     # ìºì‹œ ì‹œìŠ¤í…œ (NEW!)
â”‚   â””â”€â”€ Database/         # ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ (ì¿¼ë¦¬ ë¡œê¹… ì¶”ê°€)
â”œâ”€â”€ views/                # ë·° í…œí”Œë¦¿
â”‚   â”œâ”€â”€ layouts/          # ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ home/             # í™ˆí˜ì´ì§€ ë·°
â”‚   â”œâ”€â”€ auth/             # ì¸ì¦ ê´€ë ¨ ë·°
â”‚   â””â”€â”€ posts/            # ê²Œì‹œê¸€ ê´€ë ¨ ë·°
â”œâ”€â”€ public/               # ê³µê°œ ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ index.php         # ì§„ì…ì 
â”‚   â”œâ”€â”€ css/              # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”œâ”€â”€ js/               # JavaScript
â”‚   â””â”€â”€ res/              # ë¦¬ì†ŒìŠ¤ íŒŒì¼ë“¤
â”œâ”€â”€ cache/                # ìºì‹œ ë””ë ‰í† ë¦¬ (NEW!)
â”‚   â””â”€â”€ data/             # ìºì‹œ íŒŒì¼ ì €ì¥ì†Œ
â”œâ”€â”€ composer.json         # Composer ì„¤ì •
â”œâ”€â”€ package.json          # npm ì„¤ì • (í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„±)
â””â”€â”€ README.md            # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ë°±ì—”ë“œ ì˜ì¡´ì„± ì„¤ì¹˜
```bash
composer install
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„± ì„¤ì¹˜ (ì„ íƒì‚¬í•­)
í”„ë¡ íŠ¸ì—”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ npmìœ¼ë¡œ ê´€ë¦¬í•˜ë ¤ë©´:
```bash
npm install
```

ë˜ëŠ” ë¡œì»¬ íŒŒì¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´:
```bash
# Quill.js ë¡œì»¬ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ì´ë¯¸ ë‹¤ìš´ë¡œë“œë¨)
mkdir -p public/vendor/quill
cd public/vendor/quill
wget https://cdn.quilljs.com/1.3.6/quill.min.js
wget https://cdn.quilljs.com/1.3.6/quill.snow.css
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
`config/database.php` íŒŒì¼ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.

### 4. ìºì‹œ ë””ë ‰í† ë¦¬ ì„¤ì •
```bash
# ìºì‹œ ë””ë ‰í† ë¦¬ ìƒì„± ë° ê¶Œí•œ ì„¤ì •
mkdir -p cache/data
chmod 755 cache/data
```

### 5. ì›¹ ì„œë²„ ì„¤ì •
Apacheì˜ DocumentRootë¥¼ `public/` ë””ë ‰í† ë¦¬ë¡œ ì„¤ì •í•˜ê±°ë‚˜, 
Nginxë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° `public/` ë””ë ‰í† ë¦¬ë¥¼ ì„œë¹™í•˜ë„ë¡ ì„¤ì •í•˜ì„¸ìš”.

### 6. ê¶Œí•œ ì„¤ì •
```bash
chmod -R 755 public/
chmod -R 644 config/
chmod -R 755 cache/
```

## ì£¼ìš” ê¸°ëŠ¥

### ì¸ì¦ ì‹œìŠ¤í…œ
- ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
- ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦
- ê¶Œí•œ ê´€ë¦¬ (ê¸€ì“°ê¸° ì œí•œ)

### ê²Œì‹œê¸€ ê´€ë¦¬
- ê²Œì‹œê¸€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ
- ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜
- ê²€ìƒ‰ ê¸°ëŠ¥
- í˜ì´ì§€ë„¤ì´ì…˜

### ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- ë°˜ì‘í˜• ë””ìì¸
- ëª¨ë˜í•œ UI/UX
- ì ‘ê·¼ì„± ê°œì„ 

### ğŸš€ **ìºì‹œ ì‹œìŠ¤í…œ (NEW!)**
- **ì‚¬ìš©ì ì •ë³´ ìºì‹œ**: ë¡œê·¸ì¸ ì •ë³´, ê¶Œí•œ, ê²Œì‹œê¸€ ì œí•œ
- **ì¹´í…Œê³ ë¦¬ ìºì‹œ**: ì½ê¸°/ì“°ê¸° ê¶Œí•œë³„ ë¶„ë¦¬ ìºì‹œ
- **ê²Œì‹œê¸€ ìºì‹œ**: ëª©ë¡, ìƒì„¸, ì´ ê°œìˆ˜ ìºì‹œ
- **ë°©ë¬¸ì ìˆ˜ ìºì‹œ**: ì£¼ê°„ ë°©ë¬¸ì ìˆ˜ ì§‘ê³„
- **ìŠ¤ë§ˆíŠ¸ ë¬´íš¨í™”**: ë°ì´í„° ë³€ê²½ ì‹œ ê´€ë ¨ ìºì‹œ ìë™ ì‚­ì œ

## ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: PHP 7.4+
- **Database**: MySQL
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Editor**: Quill.js (ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„°)
- **Package Manager**: Composer (ë°±ì—”ë“œ), npm (í”„ë¡ íŠ¸ì—”ë“œ, ì„ íƒì‚¬í•­)
- **Cache System**: ë©”ëª¨ë¦¬ + íŒŒì¼ ê¸°ë°˜ ë‹¤ì¸µ ìºì‹œ (NEW!)

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **SQL ì¸ì ì…˜ ë°©ì§€**: PDO Prepared Statements ì‚¬ìš©
2. **XSS ë°©ì§€**: ì…ë ¥ê°’ ê²€ì¦ ë° ì¶œë ¥ ì´ìŠ¤ì¼€ì´í”„
3. **CSRF ë°©ì§€**: í† í° ê¸°ë°˜ ê²€ì¦
4. **ì„¸ì…˜ ë³´ì•ˆ**: ì„¸ì…˜ í•˜ì´ì¬í‚¹ ë°©ì§€
5. **íŒŒì¼ ì—…ë¡œë“œ**: íŒŒì¼ íƒ€ì… ë° í¬ê¸° ì œí•œ

## ì„±ëŠ¥ ìµœì í™”

### 1. **ìºì‹œ ì‹œìŠ¤í…œ êµ¬í˜„**
- **ë©”ëª¨ë¦¬ ìºì‹œ**: ë¹ ë¥¸ ì ‘ê·¼ì„ ìœ„í•œ ì¸ë©”ëª¨ë¦¬ ìºì‹œ
- **íŒŒì¼ ìºì‹œ**: ì§€ì†ì„±ì„ ìœ„í•œ íŒŒì¼ ê¸°ë°˜ ìºì‹œ
- **ì„¤ì • ê¸°ë°˜ TTL**: ê° ë°ì´í„° íƒ€ì…ë³„ ìµœì í™”ëœ ìºì‹œ ì‹œê°„

### 2. **ëª¨ë¸ë³„ ìºì‹œ ì ìš©**

#### User ëª¨ë¸
- ì‚¬ìš©ì ì •ë³´: 30ë¶„ ìºì‹œ
- ê¶Œí•œ ì •ë³´: 10ë¶„ ìºì‹œ
- ê²Œì‹œê¸€ ì œí•œ ì •ë³´: 5ë¶„ ìºì‹œ
- ë°©ë¬¸ì ìˆ˜: 1ì‹œê°„ ìºì‹œ

#### Category ëª¨ë¸
- ì¹´í…Œê³ ë¦¬ ëª©ë¡: 1ì‹œê°„ ìºì‹œ
- ì½ê¸°/ì“°ê¸° ê¶Œí•œë³„ ë¶„ë¦¬ ìºì‹œ

#### Post ëª¨ë¸
- ê²Œì‹œê¸€ ëª©ë¡: 10ë¶„ ìºì‹œ
- ê²Œì‹œê¸€ ìƒì„¸: 30ë¶„ ìºì‹œ
- ì´ ê°œìˆ˜: 10ë¶„ ìºì‹œ
- ê²€ìƒ‰ ê²°ê³¼ëŠ” ìºì‹œí•˜ì§€ ì•ŠìŒ (ë™ì  ê²°ê³¼)

### 3. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
- ì¿¼ë¦¬ ë¡œê¹… ë° í†µê³„
- ëŠë¦° ì¿¼ë¦¬ ê°ì§€
- ì¤‘ë³µ ì¿¼ë¦¬ ë¶„ì„
- ì‹œìŠ¤í…œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### 4. **ì„±ëŠ¥ ê°œì„  íš¨ê³¼**

**Before (ìµœì í™” ì „)**:
- í˜ì´ì§€ ë¡œë“œë§ˆë‹¤ ë³µì¡í•œ JOIN ì¿¼ë¦¬ ì‹¤í–‰
- ì‚¬ìš©ì ê¶Œí•œ í™•ì¸ì„ ìœ„í•œ ë°˜ë³µ DB ì¡°íšŒ
- ì¹´í…Œê³ ë¦¬ ëª©ë¡ ë§¤ë²ˆ ì¡°íšŒ
- ë°©ë¬¸ì ìˆ˜ ì§‘ê³„ë¥¼ ìœ„í•œ DB ì—…ë°ì´íŠ¸

**After (ìµœì í™” í›„)**:
- ìºì‹œëœ ë°ì´í„°ë¡œ ì¦‰ì‹œ ì‘ë‹µ
- **DB ì¿¼ë¦¬ ìˆ˜ 70% ì´ìƒ ê°ì†Œ**
- **í˜ì´ì§€ ë¡œë”© ì†ë„ 3-5ë°° í–¥ìƒ**
- **ì„œë²„ ë¶€í•˜ ëŒ€í­ ê°ì†Œ**

## ìºì‹œ ê´€ë¦¬

### ìºì‹œ ì‚¬ìš©ë²•
```php
// ìºì‹œ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°
$cache = Cache::getInstance();

// ë°ì´í„° ì €ì¥
$cache->set('key', $data, 3600); // 1ì‹œê°„

// ë°ì´í„° ì¡°íšŒ
$data = $cache->get('key');

// ìºì‹œ ì‚­ì œ
$cache->delete('key');

// íŒ¨í„´ìœ¼ë¡œ ì‚­ì œ
$cache->deletePattern('posts_');
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```php
// ì¿¼ë¦¬ í†µê³„ ì¡°íšŒ
$stats = $db->getQueryStats();

// ëŠë¦° ì¿¼ë¦¬ í™•ì¸
$slowQueries = $db->getQueryLog();
```

## API ì—”ë“œí¬ì¸íŠ¸

### ìºì‹œ ê´€ë¦¬
- `GET /cache/stats` - ìºì‹œ í†µê³„
- `POST /cache/clear` - ì „ì²´ ìºì‹œ ì‚­ì œ
- `POST /cache/clear-pattern` - íŒ¨í„´ë³„ ìºì‹œ ì‚­ì œ
- `POST /cache/warmup` - ìºì‹œ ì›Œë°ì—…

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- `GET /performance/query-stats` - ì¿¼ë¦¬ í†µê³„
- `GET /performance/slow-queries` - ëŠë¦° ì¿¼ë¦¬ ëª©ë¡
- `GET /performance/duplicate-queries` - ì¤‘ë³µ ì¿¼ë¦¬ ë¶„ì„
- `GET /performance/system-info` - ì‹œìŠ¤í…œ ì •ë³´
- `GET /performance/recommendations` - ìµœì í™” ê¶Œì¥ì‚¬í•­

## ì„¤ì • íŒŒì¼

### config/cache.php
```php
return [
    'cache' => [
        'enabled' => true,
        'default_ttl' => 3600,
        'cache_dir' => __DIR__ . '/../cache/data',
    ],
    'cache_ttl' => [
        'user' => 1800,
        'posts_meta' => 600,
        // ... ê¸°íƒ€ ì„¤ì •
    ]
];
```

## í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„± ê´€ë¦¬

### npm ì‚¬ìš© (ê¶Œì¥)
```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# Quill.js ì—…ë°ì´íŠ¸
npm update quill

# ìƒˆë¡œìš´ í”„ë¡ íŠ¸ì—”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
npm install [ë¼ì´ë¸ŒëŸ¬ë¦¬ëª…]
```

### ë¡œì»¬ íŒŒì¼ ì‚¬ìš©
í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” Quill.jsë¥¼ ë¡œì»¬ íŒŒì¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤:
- `public/vendor/quill/quill.min.js` - Quill.js ë¼ì´ë¸ŒëŸ¬ë¦¬
- `public/vendor/quill/quill.snow.css` - Quill.js ìŠ¤íƒ€ì¼

ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´:
```bash
cd public/vendor/quill
wget https://cdn.quilljs.com/[ë²„ì „]/quill.min.js
wget https://cdn.quilljs.com/[ë²„ì „]/quill.snow.css
```

## ê°œë°œ ê°€ì´ë“œ

### ìƒˆë¡œìš´ ì»¨íŠ¸ë¡¤ëŸ¬ ì¶”ê°€
```php
<?php
namespace Blog\Controllers;

use Blog\Controllers\BaseController;

class NewController extends BaseController
{
    public function index()
    {
        // ì»¨íŠ¸ë¡¤ëŸ¬ ë¡œì§
        $this->render('view-name', ['data' => $data]);
    }
}
```

### ìƒˆë¡œìš´ ëª¨ë¸ ì¶”ê°€ (ìºì‹œ ì ìš©)
```php
<?php
namespace Blog\Models;

use Blog\Database\Database;
use Blog\Core\Cache;

class NewModel
{
    private $db;
    private $cache;

    public function __construct()
    {
        $this->db = Database::getInstance();
        $this->cache = Cache::getInstance();
    }

    public function getData()
    {
        $cacheKey = Cache::key('new_model_data');
        $cached = $this->cache->get($cacheKey);
        
        if ($cached !== null) {
            return $cached;
        }

        $data = $this->db->fetchAll("SELECT * FROM table");
        $this->cache->set($cacheKey, $data, 3600);
        
        return $data;
    }
}
```

## ëª¨ë‹ˆí„°ë§ ë° ìœ ì§€ë³´ìˆ˜

### ì •ê¸° ì ê²€ í•­ëª©
1. ìºì‹œ íˆíŠ¸ìœ¨ í™•ì¸
2. ëŠë¦° ì¿¼ë¦¬ ëª¨ë‹ˆí„°ë§
3. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì²´í¬
4. ìºì‹œ íŒŒì¼ í¬ê¸° ê´€ë¦¬

### ë¬¸ì œ í•´ê²°
- ìºì‹œ ë¬´íš¨í™” ë¬¸ì œ: íŒ¨í„´ ê¸°ë°˜ ì‚­ì œ í™•ì¸
- ë©”ëª¨ë¦¬ ë¶€ì¡±: TTL ì¡°ì • ë˜ëŠ” ìºì‹œ í¬ê¸° ì œí•œ
- ë°ì´í„° ë¶ˆì¼ì¹˜: ìºì‹œ ë¬´íš¨í™” ë¡œì§ ì ê²€

## ì¶”ê°€ ìµœì í™” ë°©ì•ˆ

### 1. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- ì¸ë±ìŠ¤ ì¶”ê°€
- ì¿¼ë¦¬ ìµœì í™”
- ì—°ê²° í’€ë§

### 2. ìºì‹œ í™•ì¥
- Redis/Memcached ë„ì…
- CDN í™œìš©
- ë¸Œë¼ìš°ì € ìºì‹œ ìµœì í™”

### 3. ì½”ë“œ ìµœì í™”
- ì§€ì—° ë¡œë”©
- ë°°ì¹˜ ì²˜ë¦¬
- ë¹„ë™ê¸° ì²˜ë¦¬

## ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„¼ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ê¸°ì—¬í•˜ê¸°

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ë¬¸ì˜

- ì´ë©”ì¼: bae4969@naver.com
- GitHub: https://github.com/bae4969